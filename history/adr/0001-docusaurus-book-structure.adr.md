# ADR-0001: Docusaurus Book Structure

- **Status:** Accepted
- **Date:** 2025-12-09
- **Feature:** physical-ai-book
- **Context:** The project requires a standardized, scalable, and maintainable method for organizing and displaying book-like content within the existing Docusaurus site. The structure needs to be intuitive for both readers and future content contributors, leveraging Docusaurus's built-in features to minimize manual configuration.

## Decision

We will adopt a directory-based, autogenerated sidebar structure for all new book content. Each book or major section will reside in its own subdirectory within `/docs` (e.g., `/docs/physical-ai-book`).

This directory MUST contain:
1.  A `_category_.json` file to define the sidebar label and its position.
2.  All content as markdown (`.md` or `.mdx`) files.

The central `sidebars.js` file will be updated once per book to add a new category pointing to this directory, using the `type: 'autogenerated'` setting. This delegates sidebar item creation for all lessons and chapters within that book to Docusaurus itself.

## Consequences

### Positive

-   **Low Maintenance**: Adding, removing, or reordering lessons only requires file operations, not changes to the central `sidebars.js` configuration.
-   **Scalability**: The structure scales well to multiple books or sections without cluttering the main configuration file.
-   **Intuitive for Contributors**: The file system directly represents the book structure, making it easy for new contributors to understand where to add or edit content.
-   **Logical Grouping**: All content for a specific book is neatly organized in a single folder.

### Negative

-   **Order Dependency on Filenames**: The `autogenerated` sidebar type relies on alphabetical sorting of filenames by default. To enforce a specific lesson order, contributors must use a naming convention (e.g., `01-lesson-one.md`, `02-lesson-two.md`).
-   **Initial Setup Required**: Each new book requires a one-time, manual addition to the `sidebars.js` file.

## Alternatives Considered

**Manual Sidebar Configuration**:
-   **Description**: Every single chapter and lesson would be explicitly defined as an item in the `sidebars.js` file.
-   **Why Rejected**: This approach is brittle and high-maintenance. Adding or reordering a lesson would require a code change in a central file, increasing the risk of merge conflicts and making content management cumbersome. It does not scale well and creates a significant barrier for non-developer contributors.

## References

-   **Feature Spec**: `specs/physical-ai-book/spec.md`
-   **Implementation Plan**: `specs/physical-ai-book/plan.md`
-   **Related ADRs**: None
-   **Docusaurus Docs**: [Sidebar Autogeneration](https://docusaurus.io/docs/sidebar/autogenerated)
